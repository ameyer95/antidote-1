\usepackage[margin=0.5in]{geometry}
\usepackage{mathtools}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{xcolor}
\usepackage{stmaryrd}
\usepackage{etoolbox} % for \ifstrempty
\usepackage{booktabs}
\usepackage{multirow}

\newtheorem{theorem}{Theorem}
\newtheorem{lemma}{Lemma}
\newtheorem{proposition}{Proposition}
\theoremstyle{definition}
\newtheorem{definition}{Definition}
\theoremstyle{remark}
\newtheorem{example}{Example}
\newtheorem{observation}{Observation}

\newcommand{\todo}[1]{{\textcolor{red}{\textsc{todo}---{#1}}}}

% in-text enumeration
\newcommand{\rone}{(\emph{i})~}
\newcommand{\rtwo}{(\emph{ii})~}
\newcommand{\rthree}{(\emph{iii})~}
\newcommand{\rfour}{(\emph{iv})~}
\newcommand{\rfive}{(\emph{v})~}

\newcommand{\den}[2][]{%
    \ifstrempty{#1}{%
        \llbracket {#2} \rrbracket
    }{%
        \llbracket {#2} \rrbracket_{#1}
    }%
}

% DSL syntax strings (for use in math mode)
\newcommand{\iteimpuritynode}[2]{\texttt{if impurity(T) == 0 then } {#1} \texttt{ else } {#2}}
\newcommand{\itetrivialnode}[2]{\texttt{if phi == } \bot \texttt{ then } {#1} \texttt{ else } {#2}}
\newcommand{\itemodelsnode}[2]{\texttt{if x models phi then } {#1} \text{ else } {#2}}
\newcommand{\bestsplitnode}{\texttt{phi = bestsplit(T)}}
\newcommand{\filternode}[1][]{\texttt{T = filter(T, } {#1} \texttt{phi)}} % Can pass \lnot
\newcommand{\summarynode}{\texttt{p = summary(T)}}
\newcommand{\returnnode}{\texttt{return p}}
